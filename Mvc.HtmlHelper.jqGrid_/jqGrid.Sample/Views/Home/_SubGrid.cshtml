@model jqGrid.Sample.Models.HomeModel
           
@using Mvc.HtmlHelpers

@(Html.jqGrid("GridMain")

    // columns
    .addColumn(new Column("AccountNumber").setLabel("Account#")
        .setSortable(true)
        .setWidth(50))
    .addColumn(new Column("AccountText").setLabel("TextBox")
        .setEditType(EditType.text)
        .setEditable(true)
        .setWidth(80))
    .addColumn(new Column("AccountDropdown").setLabel("Dropdown")
        .setEditType(EditType.select)
        .setEditOptions("value: $('#GridSelect').val()")
        .setEditRules("required: true")
        .setEditable(true)
        .setWidth(60))
    .addColumn(new Column("AccountDate").setLabel("Date")
        .setDateFmt("m/d/yyyy")
        .setEditOptions("dataInit: function (elem) { $(elem).datepicker(); }")
        .setEditRules("date: true")
        .setEditable(true)
        .setSortable(true)
        .setWidth(50))
    .addColumn(new Column("AccountType")
        .setLabel("Type")
        .setEditType(EditType.checkbox)
        .setEditOptions("value: 'Yes:No'")
        .setEditable(true)
        .setWidth(20))
    .addColumn(new Column("AccountBalance").setLabel("Balance")
        .setWidth(50))

    // settings
    .setCaption("Account")
    .setRequestType(RequestType.get)
    .setUrl("~/Home/GetAccountList/")
    .setAltRows(true)
    .setAltClass("altGridRows")
    .setAutoWidth(true)
    .setHeight(400)
    .setRowNum(10)
    .setRowList(new int[] { 10, 15, 20, 50 })
    .setViewRecords(true)
    .setSortName("AccountNumber")
    .setSortOrder(SortOrder.asc)
    .setPager("pagerGridMain")
    .setPgButtons(true)
    .setCellEdit(true)
    .setCellSubmit(CellSubmit.clientArray)

        // sub grid
        .setSubGrid(new Grid("GridSub")
        // columns
        .addColumn(new Column("AccountNumber").setLabel("Account#")
            .setWidth(50)
            .setSortable(true))
        .addColumn(new Column("AccountText").setLabel("TextBox")
            .setEditType(EditType.text)
            .setEditable(true)
            .setWidth(100)
            .setSortable(false))
        .addColumn(new Column("AccountDropdown").setLabel("Dropdown")
            .setEditType(EditType.select)
            .setEditOptions("value: $('#GridSelect').val()")
            .setEditRules("required: true")
            .setWidth(70)
            .setSortable(false)
            .setEditable(true))
        .addColumn(new Column("AccountDate").setLabel("Date")
            .setEditable(true)
            .setWidth(70)
            .setSortable(true))
        .addColumn(new Column("AccountType")
            .setLabel("Type")
            .setWidth(80)
            .setSortable(true))
        .addColumn(new Column("AccountBalance").setLabel("Balance")
            .setWidth(80)
            .setSortable(true))

        // settings
        .setRequestType(RequestType.get)
        .setUrl("~/Home/GetAccountList/")
        .setAutoWidth(true)
        .setHeight(100)
        .setRowNum(10)
        .setRowList(new int[] { 10, 15, 20, 50 })
        .setViewRecords(true)
        .setSortName("AccountNumber")
        .setSortOrder(SortOrder.asc)
        .setPager("pagerGridSub")
        .setPgButtons(true)

        // sub sub grid
        .setSubGrid(new Grid("GridSubSub")
        // columns
            .addColumn(new Column("AccountNumber").setLabel("Account#")
                .setSortable(true)
                .setWidth(50))
            .addColumn(new Column("AccountText").setLabel("TextBox")
                .setEditType(EditType.text)
                .setEditable(true)
                .setWidth(100))
            .addColumn(new Column("AccountDropdown").setLabel("Dropdown")
                .setEditType(EditType.select)
                .setEditOptions("value: $('#GridSelect').val()")
                .setEditRules("required: true")
                .setEditable(true)
                .setWidth(70))
            .addColumn(new Column("AccountDate").setLabel("Date")
                .setDateFmt("m/d/yyyy")
                .setEditOptions("dataInit: function (elem) { $(elem).datepicker(); }")
                .setEditRules("date: true")
                .setEditable(true)
                .setSortable(true)
                .setWidth(60))
            .addColumn(new Column("AccountType")
                .setLabel("Type")
                .setEditType(EditType.checkbox)
                .setEditOptions("value: 'Yes:No'")
                .setEditable(true)
                .setWidth(20))
            .addColumn(new Column("AccountBalance").setLabel("Balance")
                .setWidth(40))

            // settings
            .setRequestType(RequestType.get)
            .setUrl("~/Home/GetAccountList/")
            .setAutoWidth(true)
            .setHeight(100)
            .setRowNum(10)
            .setRowList(new int[] { 10, 15, 20, 50 })
            .setViewRecords(true)
            .setSortName("AccountNumber")
            .setSortOrder(SortOrder.asc)
            .setPager("pagerGridSubSub")
            .setPgButtons(true)
        )
    )

    // render the html
    .Render()
)
@Html.HiddenFor(m => m.GridSelect)
